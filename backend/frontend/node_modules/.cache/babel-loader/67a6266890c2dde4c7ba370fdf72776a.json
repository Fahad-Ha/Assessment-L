{"ast":null,"code":"import _slicedToArray from\"C:/Users/Fahad/Desktop/assessment-final/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Form,Button,Col,ListGroup,Card,Row}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{Link,useParams,useNavigate}from'react-router-dom';import FormContainer from'../components/FormContainer';import createOrder from'../actions/orderActions';import listProgramDetails from'../actions/programActions';import{ORDER_CREATE_RESET}from'../constants/orderConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PaymentScreen(_ref){var history=_ref.history;var orderCreate=useSelector(function(state){return state.orderCreate;});var order=orderCreate.order,error=orderCreate.error,success=orderCreate.success;var programDetails=useSelector(function(state){return state.programDetails;});var program=programDetails.program;var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),paymentMethod=_useState2[0],setPaymentMethod=_useState2[1];useEffect(function(){if(success){navigate(\"/payment/\".concat(order._id));dispatch({type:ORDER_CREATE_RESET});}},[success,history]);var placeOrder=function placeOrder(){dispatch(createOrder({orderItems:program.name,paymentMethod:paymentMethod,itemsPrice:program.fees,taxPrice:'0',totalPrice:program.fees}));};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(paymentMethod);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method: \"}),paymentMethod]})]})})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Summary\"})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Program:\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",program.name]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Discount:\"}),/*#__PURE__*/_jsx(Col,{children:\"00.00\"})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Total:\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",program.fees]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:error&&/*#__PURE__*/_jsx(\"h2\",{variant:\"danger\",children:error})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:placeOrder,children:\"Pay\"})})]})})})]}),/*#__PURE__*/_jsx(FormContainer,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{as:\"legend\",children:\"Select Method\"}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"PayPal\",id:\"paypal\",name:\"paymentMethod\",checked:true,onChange:function onChange(e){return setPaymentMethod(e.target.value);}}),/*#__PURE__*/_jsx(Form.Check,{type:\"radio\",label:\"KNET\",id:\"KNET\",name:\"paymentMethod\",checked:true,onChange:function onChange(e){return setPaymentMethod(e.target.value);}})]})]}),/*#__PURE__*/_jsx(Button,{className:\"button\",type:\"submit\",variant:\"primary\",children:\"Continue\"})]})})]});}export default PaymentScreen;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Col","ListGroup","Card","Row","useDispatch","useSelector","Link","useParams","useNavigate","FormContainer","createOrder","listProgramDetails","ORDER_CREATE_RESET","PaymentScreen","history","orderCreate","state","order","error","success","programDetails","program","navigate","dispatch","paymentMethod","setPaymentMethod","_id","type","placeOrder","orderItems","name","itemsPrice","fees","taxPrice","totalPrice","submitHandler","e","preventDefault","target","value"],"sources":["C:/Users/Fahad/Desktop/assessment-final/backend/frontend/src/screens/PaymentScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Form, Button, Col, ListGroup, Card, Row } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useParams, useNavigate } from 'react-router-dom'\r\nimport FormContainer from '../components/FormContainer'\r\nimport createOrder from '../actions/orderActions'\r\nimport listProgramDetails from '../actions/programActions'\r\n\r\n\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants'\r\n\r\nfunction PaymentScreen({ history }) {\r\n\r\n    const orderCreate = useSelector(state => state.orderCreate)\r\n    const { order, error, success } = orderCreate\r\n\r\n    const programDetails = useSelector(state => state.programDetails)\r\n    const {program} = programDetails\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n\r\n    const [paymentMethod, setPaymentMethod] = useState('')\r\n\r\n    \r\n\r\n\r\n    \r\n\r\n\r\n\r\n   \r\n\r\n    useEffect(() => {\r\n        if (success) {\r\n            navigate(`/payment/${order._id}`)\r\n            dispatch({ type: ORDER_CREATE_RESET })\r\n        }\r\n    }, [success, history])\r\n\r\n    const placeOrder = () => {\r\n        dispatch(createOrder({\r\n            orderItems: program.name,\r\n            paymentMethod: paymentMethod,\r\n            itemsPrice: program.fees,\r\n            taxPrice: '0',\r\n            totalPrice: program.fees,\r\n        }))\r\n    }\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch((paymentMethod))\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Row>\r\n                <Col md={8}>\r\n                    <ListGroup variant='flush'>\r\n                        <ListGroup.Item>\r\n                            <h2>Payment Method</h2>\r\n                            <p>\r\n                                <strong>Method: </strong>\r\n                                {paymentMethod}\r\n                            </p>\r\n                        </ListGroup.Item>                       \r\n                    </ListGroup>\r\n\r\n                </Col>\r\n\r\n                <Col md={4}>\r\n                    <Card>\r\n                        <ListGroup variant='flush'>\r\n                            <ListGroup.Item>\r\n                                <h2>Payment Summary</h2>\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>Program:</Col>\r\n                                    <Col>${program.name}</Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>Discount:</Col>\r\n                                    <Col>00.00</Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>Total:</Col>\r\n                                    <Col>${program.fees}</Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n\r\n                            <ListGroup.Item>\r\n                                {error && <h2 variant='danger'>{error}</h2>}\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Button\r\n                                    type='button'\r\n                                    onClick={placeOrder}\r\n                                >\r\n                                    Pay\r\n                                </Button>\r\n                            </ListGroup.Item>\r\n\r\n                        </ListGroup>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n            <FormContainer>\r\n\r\n            <Form onSubmit={submitHandler}>\r\n                <Form.Group>\r\n                    <Form.Label as='legend'>Select Method</Form.Label>\r\n                    <Col>\r\n                        <Form.Check\r\n                            type='radio'\r\n                            label='PayPal'\r\n                            id='paypal'\r\n                            name='paymentMethod'\r\n                            checked\r\n                            onChange={(e) => setPaymentMethod(e.target.value)}\r\n                        >\r\n\r\n                        </Form.Check>\r\n                        <Form.Check\r\n                            type='radio'\r\n                            label='KNET'\r\n                            id='KNET'\r\n                            name='paymentMethod'\r\n                            checked\r\n                            onChange={(e) => setPaymentMethod(e.target.value)}\r\n                        >\r\n\r\n                        </Form.Check>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n                <Button className = 'button' type='submit' variant='primary'>\r\n                    Continue\r\n                </Button>\r\n            </Form>\r\n        </FormContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PaymentScreen\r\n\r\n\r\n        \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}