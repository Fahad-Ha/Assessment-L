{"ast":null,"code":"import _slicedToArray from\"C:/Users/Fahad/Desktop/assessment-final/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useSyncExternalStore}from'react';import{useDispatch,useSelector}from'react-redux';import{Link,useParams,useNavigate}from'react-router-dom';import{Row,Col,Image,Button,Card}from'react-bootstrap';import{listProgramDetails}from'../actions/programActions';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProgramsScreen(_ref){var match=_ref.match;var program_id=useParams();var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var programDetails=useSelector(function(state){return state.programDetails;});var program=programDetails.program;var userRegister=useSelector(function(state){return state.userRegister;});var error=userRegister.error,loading=userRegister.loading,userInfo=userRegister.userInfo;useEffect(function(){dispatch(listProgramDetails(program_id.id));},[dispatch,match]);var programRegisterHandler=function programRegisterHandler(){//add the agegroup check here \nif(userInfo){setErrorMessage('You are not within the age group of this program!');}else{navigate(\"/payment/\".concat(program_id.id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-dark my-3\",children:\"Go Back\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Image,{style:{width:'50%',alignItem:'center'},src:program.image,alt:program.name,fluid:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{className:\"py-3 \",variant:\"outlined\",children:/*#__PURE__*/_jsx(\"h2\",{children:program.name})}),/*#__PURE__*/_jsx(Card.Text,{className:\"py-2 pro-description\",children:/*#__PURE__*/_jsx(\"span\",{children:program.description})}),/*#__PURE__*/_jsxs(Card.Text,{className:\"py-2 \",children:[\"Date: \",program.date]})]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Text,{className:\"py-2 pro-info \",children:[\"Age: \",program.ageGroup]}),/*#__PURE__*/_jsxs(Card.Text,{className:\"py-1 pro-info\",children:[\"Fees: \",program.fees,\" KD\"]}),/*#__PURE__*/_jsx(Button,{onClick:programRegisterHandler,className:\"my-3 p-4\",type:\"button\",children:\"Register\"}),errorMessage&&/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[\" \",errorMessage,\" \"]})]})]})]});}export default ProgramsScreen;","map":{"version":3,"names":["React","useState","useEffect","useSyncExternalStore","useDispatch","useSelector","Link","useParams","useNavigate","Row","Col","Image","Button","Card","listProgramDetails","Redirect","ProgramsScreen","match","program_id","navigate","dispatch","errorMessage","setErrorMessage","programDetails","state","program","userRegister","error","loading","userInfo","id","programRegisterHandler","width","alignItem","image","name","description","date","ageGroup","fees"],"sources":["C:/Users/Fahad/Desktop/assessment-final/backend/frontend/src/screens/ProgramsScreen.js"],"sourcesContent":["import React, { useState, useEffect, useSyncExternalStore} from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useParams, useNavigate } from 'react-router-dom'\r\nimport {Row, Col, Image, Button, Card} from 'react-bootstrap'\r\nimport { listProgramDetails } from '../actions/programActions'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n \r\nfunction ProgramsScreen({ match }) {  \r\n  const program_id = useParams()  \r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const programDetails = useSelector(state => state.programDetails)\r\n  const {program} = programDetails\r\n  const userRegister = useSelector(state => state.userRegister)\r\n  const { error, loading, userInfo } = userRegister\r\n  \r\n    useEffect(() => {\r\n      dispatch(listProgramDetails(program_id.id))\r\n  \r\n\r\n  }, [dispatch, match])\r\n\r\n  const programRegisterHandler = () => {\r\n    //add the agegroup check here \r\n    if (userInfo) {\r\n      setErrorMessage('You are not within the age group of this program!');\r\n    } else {\r\n    navigate(`/payment/${program_id.id}`)}\r\n  }\r\n\r\n  return (\r\n    <div >\r\n    \r\n        <div >\r\n        <Link to='/' className='btn btn-dark my-3'>Go Back</Link>\r\n        <Row>\r\n                <Image  style={{width: '50%', alignItem: 'center'}} src={program.image} alt={program.name} fluid/>\r\n        </Row>\r\n        </div> \r\n    \r\n        <div className='text-center'>\r\n        <Card.Body>\r\n            <Card.Title className=\"py-3 \" variant=\"outlined\"><h2>{program.name}</h2></Card.Title>\r\n            <Card.Text className=\"py-2 pro-description\" ><span>{program.description}</span></Card.Text>\r\n            <Card.Text className=\"py-2 \">Date: {program.date}</Card.Text>\r\n        </Card.Body>\r\n        <Card.Body >\r\n            <Card.Text className=\"py-2 pro-info \">Age: {program.ageGroup}</Card.Text>\r\n            <Card.Text className=\"py-1 pro-info\">Fees: {program.fees} KD</Card.Text>\r\n            <Button onClick={programRegisterHandler} className='my-3 p-4' type='button' >Register</Button>\r\n            {errorMessage && (\r\n            <p className=\"error\"> {errorMessage} </p>\r\n            )}\r\n        </Card.Body>\r\n        </div>\r\n    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProgramsScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}